// Proto@v1.0.1, MIT licensed. https://github.com/adriancmiranda/Proto
!function(a,b,c,d){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=d(a,exports,b,c):"function"==typeof define&&define.amd?define(["exports"],function(e){return d(a,e,b,c)}):a[b]=d(a,{},b,c)}(this,"Proto","1.0.1",function(a,b,c,d){"use strict";function e(a){return function(){return Function.call.apply(a,arguments)}}var f=e(Array.prototype.slice),g=Array.isArray,h=e(Object.prototype.toString),i=/\bsuper\b/,j=/^.*function\s([^\s]*|[^\(]*)\([^\x00]+$/,k=/^(\[object(\s|\uFEFF|\xA0))|(\])$/g,l=0;function m(a){return a===Object(a)}function n(a){return"[object Object]"===h(a)}function o(a){return"function"==typeof a}function p(a,b,c,d,e,f){return e||c.hasOwnProperty(b)?f.call(a||c[b],c[b],b,d,c):void 0}function q(a,b,c,d){var e,f=0,g=o(a);for(var h in a)if(e=g?"prototype"!==h&&"length"!==h&&"name"!==h:!0,e&&p(c,h,a,f++,d,b)===!1)break}function r(a){var b=function(){};return b.prototype=a.prototype||a,new b}function s(a,b){return a=r(a),q(b,function(b,c){a[c]=b.value}),a}function t(a,b){return a&&b?(a=r(a),b=r(b),q(b,function(b,c){n(b)?t(a[c],b):a[c]=b},null,!0),a):a||b||{}}function u(a,b){var c=f(arguments,2);return q(c,function(c){q(c,function(c,d){n(c)&&n(b[d])?u(a,b[d],c):!a&&b[d]||(b[d]=c)},null,!0)}),b}function v(a){var b=f(arguments,1);return q(b,function(b){q(b,function(b,c){a[c]=b})}),a}function w(a){var b={};return q(a,function(a,c){n(a)&&(b[c]=a)},null,!0),b}function x(a,b){var c=[];return q(a,function(a,b){c.push(b)},null,b),c}function y(a,b,c){var d=a[b];a[b]=function(){return c.length===arguments.length?c.apply(this,arguments):o(d)?d.apply(this,arguments):void 0}}function z(a,b){var c={},d={};return q(g(b)?b:[b],function(b){o(b)&&(b=b.prototype),q(b,function(b,d){a[d]||(c[d]=b)},null,!0),d=c["implements"]?z(a,c["implements"]):t(d,c)}),d}function A(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]}function B(a,b){var c=f(arguments,2),d=function(){return a.apply(b,c.concat(f(arguments)))};return d.__bind__=d.__bind__||a,d}function C(a){var b=a.__bind__;return delete a.__bind__,b}function D(a,b,c){return c=c.length?c:x(b,!0),q(c,function(c){o(b[c])&&(b[c]=a(b[c],b))}),b}function E(a,b){return b=g(b)?b:f(arguments,1),D(B,a,b)}function F(a,b){return b=g(b)?b:f(arguments,1),D(C,a,b)}function G(a,b,c){var d=o(c)?c:function e(){return c};return function f(){return this["super"]=d,b.apply(this,arguments)}}function H(a,b){return q(b,function(c,d){o(c)&&i.test(c.toString())&&(b[d]=G(d,c,a.prototype[d]))}),b}function I(a,b){return b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)}}function J(a,b,c,d){var e=I(b,c),f,g,h;return v(e,b,d),f=function(){this.constructor=e},f.prototype=b instanceof a?null:b.prototype,e.prototype=a.create(f.prototype),a.size=l++,c&&c.hasOwnProperty("implements")&&(h=z(a.prototype,c["implements"]),e.prototype=t(e.prototype,h),delete c["implements"]),c&&(g=w(e.prototype),v(e.prototype,c,{$protoID:a.size}),u(!1,e.prototype,g)),e["super"]=b.prototype,e}function K(a,b,c){return K["extends"](a,b,c)}return K.size=0,K.create=Object.create||s,K.iterate=q,K["implements"]=z,K.unbindAll=F,K.bindAll=E,K.unbind=C,K.bind=B,K.overload=y,K.copyShallowObjectsFrom=w,K.shallowMerge=v,K.flush=A,K.keys=x,K.copy=r,K.ape=e,K["extends"]=function(){var a=f(arguments),b=o(a[0]),c=b?a[0]:this,d=b?a[1]:a[0],e=b?a[2]:a[1];return H(c,d),J(K,c,d,e)},K.merge=function(a){return u.apply(u,[!0,a].concat(f(arguments)))},K.of=function(a,b){var c=h(a);return b&&"[object Object]"===c?a.constructor.toString().replace(j,"$1")||"Object":c.replace(k,"")},K.prototype={toImplement:function(a){return t(this,z(this,a))},overload:function(a,b){return y(this.prototype,a,b)},setOptions:function(a){return this.options=u(!0,{},this.defaults,a),this.options},getOptions:function(){return m(this.options)?this.options:{}},getOption:function(a){return a&&m(this.options)?this.options[a]:void 0},get:function(a){return this.getOption(a)||this[a]},unbindAll:function(){return F(this,f(arguments))},bindAll:function(){return E(this,f(arguments))},unbind:function(a){return C(a)},bind:function(a,b){return B(a,b||this)},flush:function(){A(this)}},b[c]=K,b[c].VERSION=d,K});
