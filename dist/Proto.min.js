// Proto@v0.1.0, MIT licensed. https://github.com/adriancmiranda/Proto
!function(a,b,c,d){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=d(a,exports,b,c):"function"==typeof define&&define.amd?define(["exports"],function(e){return d(a,e,b,c)}):a[b]=d(a,{},b,c)}(this,"Proto","0.1.0",function(a,b,c,d){"use strict";function e(a){return function(){return Function.call.apply(a,arguments)}}var f=e(Array.prototype.slice),g=Array.isArray,h=e(Object.prototype.toString),i=/\bsuper\b/,j=/^.*function\s([^\s]*|[^\(]*)\([^\x00]+$/,k=/^(\[object(\s|\uFEFF|\xA0))|(\])$/g;function l(a){return a===Object(a)}function m(a){return"[object Object]"===h(a)}function n(a){return"function"==typeof a}function o(a,b,c,d,e,f){return e||c.hasOwnProperty(b)?f.call(a||c[b],c[b],b,d,c):void 0}function p(a,b,c,d){var e,f=0,g=n(a);for(var h in a)if(e=g?"prototype"!==h&&"length"!==h&&"name"!==h:!0,e&&o(c,h,a,f++,d,b)===!1)break}function q(a){var b=function(){};return b.prototype=a.prototype||a,new b}function r(a,b){return a=q(a),p(b,function(b,c){a[c]=b.value}),a}function s(a,b){return a&&b?(a=q(a),b=q(b),p(b,function(b,c){m(b)?s(a[c],b):a[c]=b},null,!0),a):a||b||{}}function t(a,b){var c=f(arguments,2);return p(c,function(c){p(c,function(c,d){m(c)&&m(b[d])?t(a,b[d],c):!a&&b[d]||(b[d]=c)},null,!0)}),b}function u(a){var b=f(arguments,1);return p(b,function(b){p(b,function(b,c){a[c]=b})}),a}function v(a){var b={};return p(a,function(a,c){m(a)&&(b[c]=a)},null,!0),b}function w(a,b){var c=[];return p(a,function(a,b){c.push(b)},null,b),c}function x(a,b,c){var d=a[b];a[b]=function(){return c.length===arguments.length?c.apply(this,arguments):n(d)?d.apply(this,arguments):void 0}}function y(a,b){var c={},d={};return p(g(b)?b:[b],function(b){n(b)&&(b=b.prototype),p(b,function(b,d){a[d]||(c[d]=b)},null,!0),d=c["implements"]?y(a,c["implements"]):s(d,c)}),d}function z(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]}function A(a,b){var c=f(arguments,2),d=function(){return a.apply(b,c.concat(f(arguments)))};return d.__bind__=d.__bind__||a,d}function B(a){var b=a.__bind__;return delete a.__bind__,b}function C(a,b){return b=g(b)?b:f(arguments,1),b=b.length?b:w(a,!0),p(b,function(b){n(a[b])&&(a[b]=A(a[b],a))}),a}function D(a,b){return b=g(b)?b:f(arguments,1),b=b.length?b:w(a,!0),p(b,function(b){n(a[b])&&(a[b]=B(a[b],a))}),a}function E(a,b,c){var d=n(c)?c:function e(){return c};return function(){return this["super"]=d,b.apply(this,arguments)}}function F(a,b){return p(b,function(c,d){n(c)&&i.test(c.toString())&&(b[d]=E(d,c,a.prototype[d]))}),b}function G(){return n(this.initialize)?this.initialize.apply(this,arguments):this}return G.implementations=0,G.instances=0,G.size=0,G.create=Object.create||r,G.iterate=p,G["implements"]=y,G.unbindAll=D,G.bindAll=C,G.unbind=B,G.bind=A,G.overload=x,G.copyShallowObjectsFrom=v,G.shallowMerge=u,G.flush=z,G.keys=w,G.copy=q,G.ape=e,G.merge=function(a){return t.apply(t,[!0,a].concat(f(arguments)))},G.of=function(a,b){var c=h(a);return b&&"[object Object]"===c?a.constructor.toString().replace(j,"$1")||"Object":c.replace(k,"")},G["extends"]=function(a,b){F(this,a);var c=this,d=function(){return c.apply(this,arguments)},e,f;a&&a.hasOwnProperty("constructor")&&(d=a.constructor),u(d,c,b);var g=function(){this.constructor=d};return g.prototype=c.prototype||null,d.prototype=G.create(g.prototype),G.instances++,a&&a.hasOwnProperty("implements")&&(f=y(G.prototype,a["implements"]),d.prototype=s(d.prototype,f),delete a["implements"],G.implementations++,G.instances--),G.size=G.instances+G.implementations,a&&(e=v(d.prototype),u(d.prototype,a,{$protoID:G.size}),t(!1,d.prototype,e)),d["super"]=c.prototype,d},G.prototype={toImplement:function(a){return s(this,y(this,a))},overload:function(a,b){return x(this.prototype,a,b)},setOptions:function(a){return this.options=t(!0,{},this.defaults,a),this.options},getOptions:function(){return l(this.options)?this.options:{}},getOption:function(a){return a&&l(this.options)?this.options[a]:void 0},get:function(a){return this.getOption(a)||this[a]},unbindAll:function(){return D(this,f(arguments))},bindAll:function(){return C(this,f(arguments))},unbind:function(a){return B(a)},bind:function(a,b){return A(a,b||this)},flush:function(){z(this)}},b[c]=G,b[c].VERSION=d,G});
