!function(t,r){"use strict";var e="function"==typeof Object.create&&Object.create;"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?r(t,e,!0):function(t){if(!t.document)throw new Error("Proto requires a window with a document");return r(t,e)}:r(t,e)}("undefined"!=typeof window?window:this,function(t,r,e){var o={objWrap:/^(\[object(\s|\uFEFF|\xA0))|(\])$/g,fnDecl:/^.*function\s([^\s]*|[^\(]*)\([^\x00]+$/},n=function(t){return this instanceof n?("function"==typeof t&&(t.prototype.toString=this.toString,t.prototype.flush=this.flush,t["extends"]=this["extends"],t["public"]=this["public"],t["static"]=this["static"],t.charge=this.charge,t.outrun=this.outrun),t):new n(t)};return n.ape=function(t){return function(){return Function.call.apply(t,arguments)}},n.of=function(t,r){if(t){var e=Object.prototype.toString.call(t);return r&&"[object Object]"===e?t.constructor.toString().replace(o.fnDecl,"$1")||"Object":e.replace(o.objWrap,"")}return t},n.create=r||function(t,r){function e(){}var o,n;if(e.prototype=t,o=new e,"object"==typeof r)for(n in r)r.hasOwnProperty(n)&&(o[n]=r[n].value);return o},n.keys=Object.keys||function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(e);return r},n.rebind=function(t){for(var r=Array.prototype.slice.call(arguments,1),e=0;e<r.length;e++)"function"==typeof t[r[e]]&&(t[r[e]]=n.bind(t[r[e]],t));return t},n.bind=function(t,r){var e=Array.prototype.slice.call(arguments,2),o=function(){return t.apply(r,e.concat(Array.prototype.slice.call(arguments)))};return o.__originalFn__=o.__originalFn__||t,o},n.unbind=function(t){var r=t.__originalFn__;return delete t.__originalFn__,r},n.overload=function(t,r,e){var o=t[r];t[r]=function(){return e.length===arguments.length?e.apply(this,arguments):"function"==typeof o?o.apply(this,arguments):void 0}},n.hasProp=n.ape(Object.prototype.hasOwnProperty),n.prototype.hasProp=function(t){return n.hasProp(this,t)},n.prototype["extends"]=function(t){return"function"!=typeof t?this:(this["super"]=t,e?(require("util").inherits(this,t),this):(this.prototype=n.create(t.prototype,{constructor:{value:this,enumerable:!1,writable:!0,configurable:!0}}),this))},n.prototype["public"]=function(t,r){if("string"==typeof t)this.prototype[t]=r;else if(Object(t)===t)for(var e in t)t.hasOwnProperty(e)&&(this.prototype[e]=t[e]);return this},n.prototype["static"]=function(t,r){if("string"==typeof t)this[t]=r;else if(Object(t)===t)for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);return this},n.prototype.charge=function(t,r){return n.overload(this.prototype,t,r),this},n.prototype.outrun=function(t,r){return n.overload(this,t,r),this},n.prototype.flush=function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t]},n.prototype.toString=function(){return"[object "+n.of(this,!0)+"]"},e||(t.Proto=n),n});